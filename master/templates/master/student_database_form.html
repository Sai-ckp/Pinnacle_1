{% extends 'master/layout.html' %}
{% block title %}Students Form{% endblock %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

<style>
    .student-data-container {
        max-width: 976px;
        margin: 50px auto;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    h2 {
        font-size: 20px;
        font-weight: 700;
        color: #800000;
        text-align: center;
        margin-bottom: 21px;
    }

    .form-group label {
        font-size: 12px;
        font-weight: 600;
    }

    .form-control {
        font-size: 9px;
        border-radius: 6px;
        padding: 4px 8px;
    }

    .btn-submit {
        background-color: #800000;
        color: white;
        font-size: 12px;
        padding: 6px 16px;
        border-radius: 6px;
        border: none;
        font-weight: 600;
    }

        .btn-submit:hover {
            background-color: #800000;
            color: white;
        }

    .form-group {
        margin-bottom: 1px;
    }

    .tab-card {
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        background: #ffffff;
        padding: 9px;
        margin-top: -36px;
    }

    .content {
        margin-left: 200px;
        padding: 13px 26px 40px;
        min-height: 100vh;
    }
</style>

<div class="student-data-container">
    <div class="tab-card">
        <h2>{% if edit_mode %}Edit Student{% else %}Student Details{% endif %}</h2>

        {% if edit_mode %}
        <form method="post">
            {% csrf_token %}
            {% endif %}

            {% if form and form.errors %}
            <div class="alert alert-danger">
                <ul>
                    {% for field in form %}
                    {% for error in field.errors %}
                    <li>{{ field.label }}: {{ error }}</li>
                    {% endfor %}
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            <div class="form-group">
                <label>Admission Number:</label>
                {% if edit_mode %}
                {{ form.admission_no }}
                {% else %}
                <input type="text" class="form-control" value="{{ student.admission_no }}" readonly style="background:#eee;">
                {% endif %}
            </div>

            <div class="form-group">
                <label>Student Name:</label>
                {% if edit_mode %}
                {{ form.student_name }}
                {% else %}
                <input type="text" class="form-control" value="{{ student.student_name }}" readonly style="background:#eee;">
                {% endif %}
            </div>

            <div class="form-group">
                <label>Course:</label>
                {% if edit_mode %}
                {{ form.course }}
                {% else %}
                <input type="text" class="form-control" value="{{ student.course }}" readonly style="background:#eee;">
                {% endif %}
            </div>

            <div class="form-group">
                <label>Course Type:</label>
                {% if edit_mode %}
                {{ form.course_type }}
                {% else %}
                <input type="text" class="form-control" value="{{ student.course_type.name|default_if_none:'' }}" readonly style="background:#eee;">
                {% endif %}
            </div>

            <div class="form-group">
                <label>Status:</label>
                {% if edit_mode %}
                {{ form.status }}
                {% else %}
                <input type="text" class="form-control" value="{{ student.status }}" readonly style="background:#eee;">
                {% endif %}
            </div>

            <div class="form-group">
                <label>Student User ID:</label>
                {% if edit_mode %}
                {{ form.student_userid }}
                {% else %}
                <input type="text" class="form-control" value="{{ student.student_userid }}" readonly style="background:#eee;">
                {% endif %}
            </div>

            <div class="form-group">
                <label>Quota Type:</label>
                {% if edit_mode %}
                {{ form.quota_type }}
                {% else %}
                <input type="text" class="form-control" value="{{ student.quota_type }}" readonly style="background:#eee;">
                {% endif %}
            </div>

            <div class="form-group">
                <label>Parent Name:</label>
                {% if edit_mode %}
                {{ form.parent_name }}
                {% else %}
                <input type="text" class="form-control" value="{{ student.parent_name }}" readonly style="background:#eee;">
                {% endif %}
            </div>

            <div class="form-group">
                <label>Student Phone No:</label>
                {% if edit_mode %}
                {{ form.student_phone_no }}
                {% else %}
                <input type="text" class="form-control" value="{{ student.student_phone_no }}" readonly style="background:#eee;">
                {% endif %}
            </div>

            <div class="form-group d-flex justify-content-between mt-4">
                <div>
                    <a href="{% url back_to_list_url %}?course_type={{ selected_type }}" class="btn-submit">Back</a>
                </div>
                {% if edit_mode %}
                <div>
                    <button type="submit" class="btn-submit">Save</button>
                </div>
                {% endif %}
            </div>


            {% if edit_mode %}
        </form>
        {% endif %}
    </div>
</div>
{% endblock %}